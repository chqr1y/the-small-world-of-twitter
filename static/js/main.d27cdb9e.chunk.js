(this["webpackJsonpthe-small-world-of-twitter"]=this["webpackJsonpthe-small-world-of-twitter"]||[]).push([[0],{32:function(e,t,n){e.exports=n(42)},42:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(3),o=n(5),i=n(4),s=n(0),l=n.n(s),c=n(27),u=n.n(c),p=n(8),d=n(23),m=n(12),h=n(28),f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"isTwitterTrendsAvailable",value:function(e){return-1!==e.TW_WOEID}},{key:"getColor",value:function(e,t){return this.props.target.index===e?"#0000FF":this.isTwitterTrendsAvailable(t)?"#1DA1F2":"#BBBBBB"}},{key:"getStyle",value:function(e,t){return{default:{fill:this.getColor(e,t),outline:"none"},pressed:{outline:"none"},hover:{fill:"#F53",outline:"none"}}}},{key:"setCountry",value:function(e,t,n,r){var a=this,o=t.properties,i={index:null,name:null,twitterTrendsAvailable:!1,woeid:null};this.props.target.index!==e&&(i={index:e,name:o.NAME,twitterTrendsAvailable:this.isTwitterTrendsAvailable(o),woeid:o.TW_WOEID}),this.props.setTarget(i,(function(){if(a.props.target.index){var e=n.invert(r.centroid(t));a.props.setPosition({coordinates:e,zoom:4})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.geoUrl,r=t.onMouse;return l.a.createElement(m.Geographies,{geography:n},(function(t){var n=t.geographies,a=t.projection,o=t.path;return n.map((function(t,n){var i=t.properties,s=e.getStyle(n,i);return l.a.createElement(m.Geography,{style:s,key:n,geography:t,onMouseEnter:function(){r(t.properties.NAME)},onMouseLeave:function(){r("")},onClick:function(){e.setCountry(n,t,a,o)}})}))}))}}]),n}(l.a.Component),v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.zoom;return l.a.createElement("circle",{r:3/e,fill:"#F00",stroke:"#fff",strokeWidth:.5/e})}}]),n}(l.a.Component);v.defaultProps={zoom:1};var b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.markers,n=e.zoom,r=e.onMouse;return t.map((function(e,t){var a=e.name,o=e.latitude,i=e.longitude;return l.a.createElement(m.Marker,{key:t,coordinates:[i,o],onMouseEnter:function(){r(a)},onMouseLeave:function(){r("")}},l.a.createElement(v,{zoom:n}),"/>")}))}}]),n}(l.a.Component);b.defaultProps={zoom:1};var y=b,k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.onClick,r=e.children;return l.a.createElement("button",{style:t,onClick:n},r)}}]),n}(l.a.Component);k.defaultProps={style:{}};var j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.onClick,r=e.children;return l.a.createElement(k,{style:t,onClick:n},r)}}]),n}(l.a.Component);j.defaultProps={style:{height:"2rem",width:"4rem",background:"#ff5533"}};var O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.children,r=e.state;return l.a.createElement(k,{style:{textDecoration:r?"none":"line-through"},onClick:t},n)}}]),n}(l.a.Component),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.style,t=this.props.buttons,n=t.reset,r=t.plus,a=t.minus,o=t.displayTowns;return l.a.createElement("div",{style:e},l.a.createElement("div",null,l.a.createElement(j,{onClick:n.onClick},"RESET"),l.a.createElement(k,{onClick:r.onClick},"+"),l.a.createElement(k,{onClick:a.onClick},"-")),l.a.createElement("div",null,l.a.createElement(O,{onClick:o.onClick,state:o.state},"Display Towns")))}}]),n}(l.a.Component);g.defaultProps={style:{display:"flex",position:"fixed",right:"10px",top:"10px",flexDirection:"column"}};var E=g,C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={tooltip:"",position:{coordinates:[0,0],zoom:1},displayMarkers:!0},a.setPosition=a.setPosition.bind(Object(p.a)(a)),a.setTooltipContent=a.setTooltipContent.bind(Object(p.a)(a)),a.handleDisplayMarkers=a.handleDisplayMarkers.bind(Object(p.a)(a)),a.reset=a.reset.bind(Object(p.a)(a)),a}return Object(a.a)(n,[{key:"setPosition",value:function(e){this.setState((function(t){return{position:Object(d.a)(Object(d.a)({},t.position),e)}}))}},{key:"setTooltipContent",value:function(e){this.setState({tooltip:e})}},{key:"handleDisplayMarkers",value:function(){this.setState((function(e){return{displayMarkers:!e.displayMarkers}}))}},{key:"reset",value:function(){var e=this;this.setState({position:{coordinates:[0,0],zoom:1}},(function(){e.props.setTarget({twitterTrendsAvailable:!1,index:null,woeid:null,name:null})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.geoUrl,r=t.target,a=t.setTarget,o=t.markers,i=this.state,s=i.displayMarkers,c=i.tooltip,u=this.state.position,p=u.coordinates,d=u.zoom;return l.a.createElement("div",{style:{transform:"translateZ(0)"}},l.a.createElement(m.ComposableMap,{"data-tip":""},l.a.createElement(m.ZoomableGroup,{center:p,zoom:d,onMoveEnd:this.setPosition},l.a.createElement(f,{geoUrl:n,target:r,setTarget:a,onMouse:this.setTooltipContent,setPosition:this.setPosition}),l.a.createElement(y,{zoom:d,markers:s?o:[],onMouse:this.setTooltipContent}))),l.a.createElement(h.a,null,c),l.a.createElement(E,{buttons:{reset:{onClick:this.reset},plus:{onClick:function(){e.setPosition({zoom:2*d})}},minus:{onClick:function(){e.setPosition({zoom:d/2})}},displayTowns:{state:s,onClick:this.handleDisplayMarkers}}}))}}]),n}(l.a.Component),w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.target,t=e.name,n=e.woeid,r=e.twitterTrendsAvailable;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("span",null,"Name : ",t)),l.a.createElement("div",null,l.a.createElement("span",null,"Twitter Trends Available ? : ",r?"YES":"NO")),l.a.createElement("div",null,l.a.createElement("span",null,"Twitter woeid : ",n)))}}]),n}(l.a.Component),T=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={target:{index:null,name:null,twitterTrendsAvailable:!1,woeid:null},markers:[],isLoaded:!1,error:null},a.setTarget=a.setTarget.bind(Object(p.a)(a)),a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://raw.githubusercontent.com/chqr1y/the-small-world-of-twitter/master/data/twitter_available_locations.json").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,markers:t.filter((function(e){return"Town"===e.placeType.name}))})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"getMarkers",value:function(){var e=this.state,t=e.target,n=e.markers;return null===t.index?n:n.filter((function(e){return e.parentid===t.woeid}))}},{key:"setTarget",value:function(e,t){this.setState({target:e},t)}},{key:"render",value:function(){var e={borderStyle:"solid"},t=this.state.target;return l.a.createElement("div",null,l.a.createElement("div",{style:e},l.a.createElement(C,{geoUrl:"https://raw.githubusercontent.com/chqr1y/twitter-locations-maps/master/ne_50m_admin_0_countries_and_twitter_woeid.json",markers:this.getMarkers(),target:t,setTarget:this.setTarget})),l.a.createElement("div",{style:e},l.a.createElement(w,{target:t})))}}]),n}(l.a.Component),M=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{style:{width:"90%",maxWidth:"1200px",margin:"auto",borderStyle:"solid"}},l.a.createElement(T,null))}}]),n}(l.a.Component);u.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d27cdb9e.chunk.js.map