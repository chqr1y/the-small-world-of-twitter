(this["webpackJsonpthe-small-world-of-twitter"]=this["webpackJsonpthe-small-world-of-twitter"]||[]).push([[0],{31:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(4),o=n(6),l=n(5),i=n(0),s=n.n(i),c=n(26),u=n.n(c),p=n(12),d=n(13),h=n(27),m=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return this.props.markers.map((function(t,n){var a=t.name,r=t.latitude,o=t.longitude;return s.a.createElement(d.Marker,{key:n,coordinates:[o,r],onMouseEnter:function(){e.props.setTooltipContent(a)},onMouseLeave:function(){e.props.setTooltipContent("")}},s.a.createElement("circle",{r:3,fill:"#F00",stroke:"#fff",strokeWidth:.5}))}))}}]),n}(s.a.Component),y=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={tooltip:""},r.setTooltipContent=r.setTooltipContent.bind(Object(p.a)(r)),r}return Object(r.a)(n,[{key:"setTooltipContent",value:function(e){this.setState({tooltip:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(d.ComposableMap,{"data-tip":""},s.a.createElement(d.ZoomableGroup,null,s.a.createElement(d.Geographies,{geography:this.props.geoUrl},(function(t){return t.geographies.map((function(t,n){var a={defaultColor:-1!==t.properties.TW_WOEID?"#1DA1F2":"#BBBBBB",selectedColor:"#0000FF"};return s.a.createElement(d.Geography,{key:t.rsmKey,geography:t,fill:a.defaultColor,onMouseEnter:function(){var n=t.properties.NAME;e.setState({tooltip:n})},onMouseLeave:function(){e.setState({tooltip:""})},onClick:function(){e.props.handleClick(t.properties,n)},style:{default:{fill:e.props.selectedCountry.index===n?a.selectedColor:a.defaultColor,outline:"none"},pressed:{outline:"none"},hover:{fill:"#F53",outline:"none"}}})}))})),s.a.createElement(m,{markers:this.props.markers,setTooltipContent:this.setTooltipContent}))),s.a.createElement(h.a,null,this.state.tooltip))}}]),n}(s.a.Component),f=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("span",null,"Legend :"),s.a.createElement("button",{id:"button-display-places",style:{textDecoration:this.props.displayTowns?"none":"line-through"},onClick:function(){return e.props.handleDisplayTowns()}},"Display places")))}}]),n}(s.a.Component),v=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("span",null,"Name : ",this.props.place.name)),s.a.createElement("div",null,s.a.createElement("span",null,"Twitter Data Available ? : ",this.props.place.isTwitterCountry?"YES":"NO")),s.a.createElement("div",null,s.a.createElement("span",null,"Twitter woeid : ",this.props.place.woeid)))}}]),n}(s.a.Component),w=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={selectedCountry:{isTwitterCountry:!1,index:null,woeid:null,name:null},displayTowns:!0,mapToolTip:""},r.handleSelectCountry=r.handleSelectCountry.bind(Object(p.a)(r)),r.handleDisplayTowns=r.handleDisplayTowns.bind(Object(p.a)(r)),r}return Object(r.a)(n,[{key:"handleSelectCountry",value:function(e,t){this.state.selectedCountry.index===t?this.setState({selectedCountry:{isTwitterCountry:null,index:null,woeid:null,name:null}}):this.setState({selectedCountry:{isTwitterCountry:-1!==e.TW_WOEID,index:t,woeid:e.TW_WOEID,name:e.NAME}})}},{key:"handleDisplayTowns",value:function(){this.setState({displayTowns:!this.state.displayTowns})}},{key:"render",value:function(){var e=this,t=!1===e.state.displayTowns?[]:null===e.state.selectedCountry.index?e.props.markers:e.props.markers.filter((function(t){return t.parentid===e.state.selectedCountry.woeid})),n={borderStyle:"solid"};return s.a.createElement("div",null,s.a.createElement("div",{style:n},s.a.createElement(y,{geoUrl:this.props.geoUrl,selectedCountry:this.state.selectedCountry,handleClick:this.handleSelectCountry,markers:t})),s.a.createElement("div",{style:n},s.a.createElement(f,{displayTowns:this.state.displayTowns,handleDisplayTowns:this.handleDisplayTowns})),s.a.createElement("div",{style:n},s.a.createElement(v,{place:this.state.selectedCountry})))}}]),n}(s.a.Component),b=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={error:null,isLoaded:!1,twitterLocations:[]},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://raw.githubusercontent.com/chqr1y/the-small-world-of-twitter/master/data/twitter_available_locations.json").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,twitterLocations:t.filter((function(e){return"Town"===e.placeType.name}))})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){return s.a.createElement("div",{style:{width:"90%",maxWidth:"1200px",margin:"auto",borderStyle:"solid"}},s.a.createElement(w,{geoUrl:"https://raw.githubusercontent.com/chqr1y/twitter-locations-maps/master/ne_50m_admin_0_countries_and_twitter_woeid.json",markers:this.state.twitterLocations}))}}]),n}(s.a.Component);u.a.render(s.a.createElement(b,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.a53c1da7.chunk.js.map